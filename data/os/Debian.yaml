lookup_options:
  ufw::rules:
    merge:
      strategy: deep
  ufw::routes:
    merge:
      strategy: deep

classes:
  - apt
  - unattended_upgrades
  - nfs
  - ufw

unattended_upgrades::age:
  max: 14
unattended_upgrades::auto:
  fix_interrupted_dpkg: true
  remove: true
  reboot: true
  reboot_time: "02:00"
unattended_upgrades::update: 1
unattended_upgrades::upgrade: 1
unattended_upgrades::remove_new_unused_deps: true
unattended_upgrades::remove_unused_kernel: true
unattended_upgrades::syslog_enable: true
unattended_upgrades::extra_origins:
  - origin=TorProject,component=main
  - origin=Puppetlabs,component=puppet7
  - site=repo.i2pd.xyz

ufw::purge_unmanaged_rules: true
ufw::purge_unmanaged_routes: true
ufw::manage_package: true
ufw::manage_service: true
ufw::service_ensure: "running"
ufw::rules:
  allow_ssh_connections:
    action: "allow"
    to_ports_app: 22
  allow_puppetagent:
    action: "allow"
    from_ports_app: 8140
  allow_dns:
    action: "allow"
    to_ports_app: 53
