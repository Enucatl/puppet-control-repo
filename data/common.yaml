---
lookup_options:
  classes:
    merge: unique

classes:
  - ca
  - ssh
  - tidy
  - freeipa
  - freeipa::install::client

dns::client::server: '192.168.2.42'
ssh::storeconfigs_enabled: true
ssh::validate_sshd_file: true
ssh::server_options:
  ListenAddress:
    - '127.0.0.1'
    - '%{trusted.certname}'
  PermitEmptyPasswords: 'no'
  PermitRootLogin: 'no'
  MaxAuthTries: 3
  MaxSessions: 11
  X11Forwarding: 'no'
  Subsystem: sftp /usr/lib/openssh/sftp-server
  TrustedUserCAKeys: /etc/ssh/ssh_ca.pub
tidy::files:
  downloads:
    path: /home/user/Downloads
tidy::defaults:
  age: 1w
  recurse: true
  rmdirs: true

freeipa::install::client::options:
  mkhomedir:
  domain: home.arpa
  server: ipa.home.arpa
  hostname: "%{facts.networking.fqdn}"
