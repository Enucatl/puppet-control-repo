classes:
  - limits
  - tidy
  - libvirt
  - netplan

limits::entries:
  'user/rtprio':
    both: 98
  'user/memlock':
    both: unlimited

tidy::files:
  downloads:
    path: /opt/home/user/Downloads


netplan::purge_config: true
netplan::configs:
  network-manager-all:
    file_mode: '0611'
    priority: 01
    settings:
      renderer: networkd
      ethernets:
        enp0s31f6:
          dhcp4: no
          dhcp6: no
      bridges:
        br0:
          interfaces:
            - enp0s31f6
          dhcp4: yes
          dhcp6: yes
          parameters:
            forward-delay: 0
            stp: true


sysctl_hash:
  net.ipv6.conf.all.forwarding:
    value: 1
  net.ipv6.conf.default.forwarding:
    value: 1
  net.ipv6.conf.all.accept_ra:
    value: 2
  net.ipv6.conf.all.proxy_ndp:
    value: 1
  net.ipv6.conf.default.accept_ra:
    value: 2
  net.ipv6.conf.default.proxy_ndp:
    value: 1
  net.ipv6.conf.enp0s31f6.accept_ra:
    value: 2
  net.ipv6.conf.enp0s31f6.proxy_ndp:
    value: 1
  vm.swappiness:
    value: 10
  vm.vfs_cache_pressure:
    value: 50


libvirt::networks:
  testbridge:
    template: generic
    forward:
      mode: bridge
    bridge:
      name: br0
    autostart: true
